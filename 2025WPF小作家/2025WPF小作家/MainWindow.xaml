<Window x:Class="WpfNotepad.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="2025WPF小作家" Height="500" Width="850"
        Loaded="Window_Loaded">

    <DockPanel>
        <StatusBar DockPanel.Dock="Bottom">
            <StatusBarItem>
                <TextBlock Name="StatusText" Text="就緒"/>
            </StatusBarItem>
        </StatusBar>

        <ToolBarTray DockPanel.Dock="Top" Background="#F0F0F0">
            <ToolBar>
                <Button Content="開新檔案" Click="NewFile_Click"/>
                <Button Content="開啟舊檔" Click="OpenFile_Click"/>
                <Button Content="儲存檔案" Click="SaveFile_Click"/>
                <Separator/>

                <Button Content="清除全部" Click="Clear_Click"/>
                <Separator/>

                <ToggleButton Name="btnBold" Content="B" FontWeight="Bold" Click="Style_Click" ToolTip="粗體"/>
                <ToggleButton Name="btnItalic" Content="I" FontStyle="Italic" Click="Style_Click" ToolTip="斜體"/>
                <ToggleButton Name="btnUnderline" Click="Style_Click" ToolTip="底線">
                    <TextBlock Text="U" TextDecorations="Underline"/>
                </ToggleButton>
                <Separator/>

                <ComboBox Name="cmbFontFamily" Width="120" SelectionChanged="CmbFontFamily_SelectionChanged" ToolTip="字型"/>
                <ComboBox Name="cmbFontSize" Width="50" SelectionChanged="CmbFontSize_SelectionChanged" ToolTip="大小"/>
                <Separator/>

                <Label Content="字色:" VerticalAlignment="Center"/>
                <ComboBox Name="cmbFontColor" Width="100" SelectionChanged="CmbFontColor_SelectionChanged">
                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal">
                                <Rectangle Fill="{Binding Name}" Width="16" Height="16" Margin="0,0,5,0" Stroke="Black" StrokeThickness="1"/>
                                <TextBlock Text="{Binding Name}"/>
                            </StackPanel>
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>

                <Label Content="背景:" VerticalAlignment="Center"/>
                <ComboBox Name="cmbBackColor" Width="100" SelectionChanged="CmbBackColor_SelectionChanged">
                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal">
                                <Rectangle Fill="{Binding Name}" Width="16" Height="16" Margin="0,0,5,0" Stroke="Black" StrokeThickness="1"/>
                                <TextBlock Text="{Binding Name}"/>
                            </StackPanel>
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>

            </ToolBar>
        </ToolBarTray>

        <RichTextBox Name="MainEditor" 
                     AcceptsTab="True" 
                     VerticalScrollBarVisibility="Auto"
                     SelectionChanged="MainEditor_SelectionChanged">
            <FlowDocument>
                <Paragraph>
                    <Run Text="請在此輸入文字..."/>
                </Paragraph>
            </FlowDocument>
        </RichTextBox>
    </DockPanel>
</Window>